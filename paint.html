<meta charset = "UTF-8">
<canvas width = "1300" height = "600"></canvas>

<script>
	
	function desenhaQuadrado(x, y, tamanho, cor) {

		pincel.fillStyle = cor;
		pincel.fillRect(x, y, tamanho, tamanho);
		pincel.fill();

	}

	function desenhaCirculo(x, y, raio, cor) {

		pincel.fillStyle = cor;
		pincel.beginPath();
		pincel.arc(x, y, raio, 0, 2 * Math.PI);
		pincel.fill();

	}

	function paletaCores() {

		desenhaQuadrado(x, y1, tamanhoQuadrados, "black");
		desenhaQuadrado(x, y2, tamanhoQuadrados, "gray");
		desenhaQuadrado(x + 40, y1, tamanhoQuadrados, "purple");
		desenhaQuadrado(x + 40, y2, tamanhoQuadrados, "darkviolet");		
		desenhaQuadrado(x + 80, y1, tamanhoQuadrados, "darkblue");
		desenhaQuadrado(x + 80, y2, tamanhoQuadrados, "blue");
		desenhaQuadrado(x + 120, y1, tamanhoQuadrados, "darkgreen");
		desenhaQuadrado(x + 120, y2, tamanhoQuadrados, "green");
		desenhaQuadrado(x + 160, y1, tamanhoQuadrados, "yellow");
		desenhaQuadrado(x + 160, y2, tamanhoQuadrados, "gold");
		desenhaQuadrado(x + 200, y1, tamanhoQuadrados, "darkorange");
		desenhaQuadrado(x + 200, y2, tamanhoQuadrados, "orange");
		desenhaQuadrado(x + 240, y1, tamanhoQuadrados, "darkred");
		desenhaQuadrado(x + 240, y2, tamanhoQuadrados, "red");
		desenhaQuadrado(x + 280, y1, tamanhoQuadrados, "deeppink");
		desenhaQuadrado(x + 280, y2, tamanhoQuadrados, "lightpink");

	}

	function movimentoMouse(evento) {

	    var x = evento.pageX - tela.offsetLeft;
	    var y = evento.pageY - tela.offsetTop;

	    if(desenha && podeDesenhar(x, y)) {
	        desenhaCirculo(x, y, 5, corAtual);
	    }

	}

    function habilitaDesenhar() {
        desenha = true;
    }

    function desabilitaDesenhar() {
        desenha = false;
    }

    function podeDesenhar(x, y) {

		if(x >= 0 && x < 3 * tamanhoQuadrados && y >= 0 && y < tamanhoQuadrados) {
            return false;
        } 	else {
            	return true;
        	}

    }

    function selecionaCor(evento) {

        var x = evento.pageX - tela.offsetLeft;
        var y = evento.pageY - tela.offsetTop;

        if (x < tamanhoQuadrados && y < y2) {
        	corAtual = "black";
        }	else if (x < tamanhoQuadrados && y > y2 && y < 80) {
        		corAtual = "gray";
        	} 	else if (x > tamanhoQuadrados && x < 80 && y < y2) {
        			corAtual = "purple";
        		}	else if (x > tamanhoQuadrados && x < 80 && y > y2 && y < 80) {
        				corAtual = "darkviolet";
        			}	else if (x > 80 && x < 120 && y < y2) {
        					corAtual = "darkblue";
        				}	else if (x > 80 && x < 120 && y > y2 && y < 80) {
        						corAtual = "blue";
        					} 	else if (x > 120 && x < 160 && y < y2) {
        							corAtual = "darkgreen";
        						}	else if (x > 120 && x < 160 && y > y2 && y < 80) {
        								corAtual = "green";
        							}	else if (x > 160 && x < 200 && y < y2) {
        									corAtual = "yellow";
        								}	else if (x > 160 && x < 200 && y > y2 && y < 80) {
        										corAtual = "gold";
        									}	else if (x > 200 && x < 240 && y < y2) {
        											corAtual = "darkorange";
        										}	else if (x > 200 && x < 240 && y > y2 && y < 80) {
        												corAtual = "orange";
        											}	else if (x > 240 && x < 280 && y < y2) {
        													corAtual = "darkred";
        												} else if (x > 240 && x < 280 && y > y2 && y < 80) {
        														corAtual = "red";
        													}	else if (x > 280 && x < 320 && y < y2) {
        															corAtual = "deeppink";
        														} 	else if (x > 280 && x < 320 && y > y2 && y < 80) {
        																corAtual = "lightpink";
        															}

    }

	var tela = document.querySelector("canvas");
	var pincel = tela.getContext("2d");

	pincel.fillStyle = "ghostwhite";
	pincel.fillRect(0, 0, 1300, 600);

	var desenha = false;
	var corAtual = "white";
	var x = 0;
	var y1 = 0;
	var y2 = 40
	var tamanhoQuadrados = 40;

	paletaCores();
	tela.onmousemove = movimentoMouse;
    tela.onmousedown = habilitaDesenhar;
    tela.onmouseup = desabilitaDesenhar;
    tela.onclick = selecionaCor;
    pincel.font= "30px Georgia";
    pincel.fillStyle = "black";
    pincel.fillText("Desenhe! Escolha a cor que deseje.", 400, 40);


</script>